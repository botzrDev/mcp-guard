# Cloudflare Workers configuration for MCP Guard Landing
# Uses modern Assets approach (not legacy Workers Sites)
# Deploy with: npx wrangler deploy

name = "mcp-guard"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Modern Assets configuration (replaces legacy [site])
[assets]
directory = "./landing/dist/landing/browser"
# Enable SPA routing - serves index.html for navigation requests
html_handling = "auto-trailing-slash"
not_found_handling = "single-page-application"

# Build command executed before deployment
[build]
command = "cd landing && npm ci && npm run build"
