# MCP Guard Configuration
# Generated by: mcp-guard init
# Documentation: https://github.com/botzrdev/mcp-guard

[server]
host = "0.0.0.0"
port = 3000

# CORS Configuration for local development
[server.cors]
enabled = true
allowed_origins = ["http://localhost:4200", "http://localhost:4201", "https://mcpg.botzr.com"]
allowed_methods = ["GET", "POST", "OPTIONS"]
allowed_headers = ["Authorization", "Content-Type"]

# Authentication
[[auth.api_keys]]
id = "demo-user"
key_hash = "0XiRNzUXl3YgkCNW3GKq4fiGEPJ/kQQQ0iD8hMl5d/g="
allowed_tools = []
rate_limit = 100

[[auth.api_keys]]
id = "manual-test"
key_hash = "P9FN1lOw5JgHfOcFCB63hJw6eMbx8Vw0tHoWJ1KOvnU="
allowed_tools = []
rate_limit = 100

# JWT Configuration (Required for OAuth session)
[auth.jwt]
mode = "simple"
secret = "dev-secret-key-at-least-32-chars-long-for-hs256"
issuer = "mcp-guard"
audience = "mcp-guard-ui"
user_id_claim = "sub"
scopes_claim = "scope"

# GitHub OAuth
[auth.oauth]
provider = "github"
client_id = "set_via_env_var"
client_secret = "set_via_env_var"
redirect_uri = "http://localhost:4200/auth/callback"
scopes = ["read:user", "user:email"]

# Note: Google OAuth can be added by uncommenting below
# [[auth.oauth]]
# provider = "google"
# client_id = "test-google-id"
# client_secret = "test-google-secret"
# redirect_uri = "http://localhost:4200/auth/callback"
# scopes = ["openid", "profile", "email"]

[rate_limit]
enabled = true
requests_per_second = 100
burst_size = 50

[audit]
enabled = true
stdout = true

[upstream]
transport = "stdio"
command = "npx"
args = ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"]

